(this["webpackJsonpreact-hacker-news"]=this["webpackJsonpreact-hacker-news"]||[]).push([[0],{3:function(e,a,t){e.exports=t(9)},8:function(e,a,t){},9:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(2),l=t.n(c);t(8);var s=(e,a)=>{switch(a.type){case"SET_LOADING":return{...e,isLoading:!0};case"SET_STORIES":return{...e,isLoading:!1,hits:a.payload.hits,nbPages:a.payload.nbPages};case"REMOVE_STORY":return{...e,hits:e.hits.filter(e=>e.objectID!==a.payload)};case"HANDLE_SEARCH":return{...e,query:a.payload,page:0};case"HANDLE_PAGE":if("inc"===a.payload){let a=e.page+1;return a>e.nbPages-1&&(a=0),{...e,page:a}}if("dec"===a.payload){let a=e.page-1;return a<0&&(a=e.nbPages-1),{...e,page:a}}default:throw new Error('no mathching "'.concat(a.type,'" action type'))}};const o={isLoading:!0,hits:[],query:"react",page:0,nbPages:0},i=r.a.createContext(),u=e=>{let{children:a}=e;const[t,c]=Object(n.useReducer)(s,o);return Object(n.useEffect)(()=>{(async e=>{c({type:"SET_LOADING"});try{const a=await fetch(e),t=await a.json();c({type:"SET_STORIES",payload:{hits:t.hits,nbPages:t.nbPages}})}catch(a){console.log(a)}})("".concat("https://hn.algolia.com/api/v1/search?","query=").concat(t.query,"&page=").concat(t.page))},[t.query,t.page]),r.a.createElement(i.Provider,{value:{...t,removeStory:e=>{c({type:"REMOVE_STORY",payload:e})},handleSearch:e=>{c({type:"HANDLE_SEARCH",payload:e})},handlePage:e=>{c({type:"HANDLE_PAGE",payload:e})}}},a)},m=()=>Object(n.useContext)(i);var p=()=>{const{query:e,handleSearch:a}=m();return r.a.createElement("form",{className:"search-form",onSubmit:e=>e.preventDefault()},r.a.createElement("h2",null,"search hacker news"),r.a.createElement("input",{type:"text",className:"form-input",value:e,onChange:e=>a(e.target.value)}))};var E=()=>{const{isLoading:e,hits:a,removeStory:t}=m();return e?r.a.createElement("div",{className:"loading"}):r.a.createElement("section",{className:"stories"},a.map(e=>{const{objectID:a,title:n,num_comments:c,url:l,points:s,author:o}=e;return r.a.createElement("article",{key:a,className:"story"},r.a.createElement("h4",{className:"title"},n),r.a.createElement("p",{className:"info"},s," points by ",r.a.createElement("span",null,o," | ")," ",c," ","comments"),r.a.createElement("div",null,r.a.createElement("a",{href:l,className:"read-link",target:"_blank",rel:"noopener noreferrer"},"read article"),r.a.createElement("button",{className:"remove-btn",onClick:()=>t(a)},"remove")))}))};var d=()=>{const{isLoading:e,page:a,nbPages:t,handlePage:n}=m();return r.a.createElement("div",{className:"btn-container"},r.a.createElement("button",{disabled:e,onClick:()=>n("dec")},"prev"),r.a.createElement("p",null,a+1," of ",t),r.a.createElement("button",{disabled:e,onClick:()=>n("inc")},"next"))};var h=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(p,null),r.a.createElement(d,null),r.a.createElement(E,null))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(u,null,r.a.createElement(h,null))),document.getElementById("root"))}},[[3,1,2]]]);
//# sourceMappingURL=main.0cca6740.chunk.js.map